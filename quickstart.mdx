---
title: "Quickstart"
icon: "rocket"
---

### Step 1 — Create a paywall & choose mode (immutable)

Create a paywall in the dashboard and choose your mode. This sets how money flows and **cannot be changed later**.

- **Default (App‑scoped wallet)** — You collect payments directly (e.g., Stripe or your own rails). Users’ balances live in your app’s scope. You credit balances via **Deposit API** and charges deduct from that balance. _No end‑user authorization step._
- **Shared (Cross‑app wallet)** — Paywalls.ai hosts a **user‑controlled** wallet that can be spent across apps. Users authorize your paywall. You earn per usage and later **withdraw**. _End‑user authorization required._

> Not sure which to pick? See **How‑to → Choose a mode (Default vs Shared)**.

---

### Step 2 — Configure a model provider

- **Default mode (required):** connect a provider via **BYOK**. Options include **OpenAI**, **Together AI** (OpenAI‑compatible), **OpenRouter** (unified OpenAI‑style API), or any **OpenAI‑compatible** endpoint (self‑hosted or vendor).

  > In Default mode, balances are _virtual/app‑scoped_, so Paywalls cannot pay a third‑party model provider on the user’s behalf.

- **Shared mode (optional):** either use the **built‑in provider (powered by OpenRouter)** with **no setup** to access OpenRouter models immediately, or connect your own keys (BYOK). Model costs are charged to the **end‑user’s shared wallet**; Paywalls automatically splits charges to preserve your developer margin.

---

### Step 3 — Configure payments / top‑ups

- **Default mode:** in the dashboard, paste a **restricted Stripe API key**. Paywalls will **auto‑generate checkout links** when users need to top up and **auto‑subscribe to webhooks** to credit balances. _(No custom checkout/webhook code required.)_
  Alternatively, use **custom rails** and call **Deposit API** after you receive funds.
- **Shared mode:** no payment setup required—**Paywalls hosts top‑ups**. Users fund their shared wallet; you’ll see earnings accrue for **withdrawal**.

---

### Step 4 — Copy API key & base URL; make your first request

Grab your paywall API key (`sk-paywalls-…`) and point your existing OpenAI client at the Paywalls base URL.

**Node (OpenAI SDK)**

```ts
import OpenAI from "openai";

const client = new OpenAI({
  apiKey: process.env.PAYWALLS_API_KEY, // sk-paywalls-...
  baseURL: "https://api.paywalls.ai/v1",
});

const resp = await client.chat.completions.create({
  model: "openai/gpt-4o-mini",
  user: "user_123", // or: send X-Paywall-User header
  messages: [{ role: "user", content: "Hello!" }],
});
console.log(resp.choices[0]?.message?.content);
```

**Python (OpenAI SDK)**

```python
from openai import OpenAI
import os

client = OpenAI(api_key=os.environ["PAYWALLS_API_KEY"],
                base_url="https://api.paywalls.ai/v1")

resp = client.chat.completions.create(
    model="gpt-4o-mini",
    user="user_123",
    messages=[{"role": "user", "content": "Hello!"}],
)
print(resp.choices[0].message.content)
```

**fetch (header identity)**

```js
const r = await fetch("https://api.paywalls.ai/v1/chat/completions", {
  method: "POST",
  headers: {
    Authorization: `Bearer ${process.env.PAYWALLS_API_KEY}`,
    "Content-Type": "application/json",
    "X-Paywall-User": "user_123", // header-based identity
  },
  body: JSON.stringify({
    model: "openai/gpt-4o-mini",
    messages: [{ role: "user", content: "Hello!" }],
  }),
});
const json = await r.json();
```

**curl**

```bash
curl https://api.paywalls.ai/v1/chat/completions \
  -H "Authorization: Bearer $PAYWALLS_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
    "model":"openai/gpt-4o-mini",
    "user":"user_123",
    "messages":[{"role":"user","content":"Hello!"}]
  }'
```

---

### Step 5 — How responses behave (both modes)

- Paywall-required flows arrive as **normal assistant messages**. Your app does **not** need special branching—render them like any chat reply.
- If the user must **authorize** (Shared) or **top up** (both modes), the assistant message already contains the **link** (authorization or checkout). After completion, usage proceeds and the next responses stream normally.
- **Default mode**: Stripe webhooks **auto‑deposit** into the app‑scoped balance.
- **Shared mode**: charges deduct from the **shared wallet**; your earnings accrue for **withdrawal**.

> **Tip**: Always send a stable, pseudonymous `user` value—either in the body (`user`) or via `X-Paywall-User`.
